#include <Arduino.h>
#include "painter.h"

const char digits[] = {
  0b00000000, 0b00010001, 0b00010001, 0b00010001,
  0b00000000, 0b00000000, 0b00010000, 0b00000001,
  0b00010000, 0b00010000, 0b00000001, 0b00010001,
  0b00010000, 0b00000000, 0b00010001, 0b00010001,
  0b00010000, 0b00000001, 0b00010000, 0b00000001,
  0b00010000, 0b00000001, 0b00010001, 0b00010000,
  0b00010000, 0b00010001, 0b00010001, 0b00010000,
  0b00000000, 0b00000000, 0b00010000, 0b00010001,
  0b00010000, 0b00010001, 0b00010001, 0b00010001,
  0b00010000, 0b00000001, 0b00010000, 0b00010001,
};

Painter::Painter(uint8_t *buf)
: buf(buf)
{
}

void Painter::drawDigit(int num, int rofs)
{
  for (int i = 0; i < 4; ++i)
  {
    buf[i] |= (digits[num * 4 + i] << rofs);
  }
}
